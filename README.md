# My ToDo App

## About the project

Full Stack personal project based on a ToDo App.

+	The server was developed on NodeJs, using Express and MongoDb for data persistence.

+	The client was developed in React, making use of React-Redux for better information interaction.


The project has 2 different sections.

+	Users:this section is in charge of register each user, as well as to the login access and modify their data if they wish.

+ ToDo: All logic related with ToDo list you can find it here.

## Server Structure

Server designed with a layered architecture. The passage of information between layers is done by injection of dependencies in this way each layer does not know the provider of the information, making it easy to apply changes if desired.

This architectural pattern composed of several separate horizontal layers that function together as a single unit of software.

For data persistence, the Dao pattern and the database provided by MongoDb have been used.

The structure of the project is made up of a layer of models, where the Schemas that will be used to exchange information with the database are declared.
The defined Schemas are: 

+ Users
+ ToDo

Each Dao pattern is made up of functions that will use different schemes defined to interact with MongoDb. 

**The defined Dao are:**

+ Users:
Using passport js and Mongo Db we can register and log in.

+ Orders:
Functions incharge to save, delete and upload the activities in the ToDo list.

The next layer is called the "services layer", which is responsible for the modification and manipulation of incoming data from the controller, thus delivering clean data to the Dao.

**Service Layared:**

+ Users
+ ToDo

Above the service layer we can find the controller layer, which receives the different requests from the defined routes and proceeds to send the responses obtained from the information flow described above.

**Controller Layared:**

+ Users
+ ToDo


Finally, we can find the route layer, which will be in charge of acting as an access point for information between the client and the server.

Also you can find other complementary folders such as:

+ Middleware: This folder contained the bellow folders:
  - Hasspass: Functions in charge to encrypt and decrypt each client's password.
  - Passport: Middleware used to registered and loged each user.

+ Helpers:
  - Logger: Used to output the logs instead of console.log or console.error
  - generateOrderId: used to generate an order id to each order.

+ Server: All the server configuration is in this folder.

+ Templates: It is a template used by Nodemailer to send emails when the purchase is complete.


**The files inside the folders are not showm in the tree bellow**
```
г Server
│   ├─ .env
│   ├─ Config
│   │  ├─ Db
│   │  ├─ Env
│   │  └─ index.js
│   ├─ src
│   │  ├─ controllers
│   │  │  ├─ todo
│   │  │  ├─ user
│   │  │  └─ index.js
│   │  ├─ dal
│   │  │  └─ dao
│   │  │     ├─ todo
│   │  │     ├─ user
│   │  │     └─ index.js
│   │  ├─ helpers
│   │  ├─ middleware
│   │  │  ├─ hasspass
│   │  │  └─ passport
│   │  ├─ models
│   │  │  ├─ todo
│   │  │  ├─ user
│   │  │  └─ index.js
│   │  ├─ routes
│   │  │  ├─ todo
│   │  │  ├─ users
│   │  │  └─ index.js
│   │  ├─ server
│   │  │  ├─ index.js
│   │  │  └─ server.js
│   │  └─ services
│   │     ├─ todo
│   │     ├─ user
│   │     └─ index.js
│   └─ warn.log│
└────────────────────────

```

## Session and Cookies.

The session is managed by Express-Session, a simple middleware used to generate session.
As it was described before, the login and sign in users are managed by passport but, the session is generated by Express-Session and after that the data is save in MongoDb using the connect-mongo.

In this way, we can secure, save and persist the user's session for future access to the website.


## Client Structure

Client was developed in React and React-Redux with Axios Request to the Server.

It has a simple but well-defined structure regarding the task defined for each component.

You can find the following folders:
+ Api
  - Todo: All ToDo axios requests are defined here.
  - Users: All Users axios requests are defined here.

+ Assets: Here you can find the different photos used in the website.

+ Componentes - made of:
  - Containers: Logical manager of each section.
  - Views: Each module in this section is in charge of managing the view of each page

+ Features:
Used in React-Redux. All logic of Redux is here.

+ Utils: Some tools used on the page
  - Helmet: Using react-helmet to generate a helmet to the API.
  - Alerts: Using Sweet Alert Js, here you can find all alerts used.

+ Store: Store used in React-Redux

**The files inside the folders are not showm in the tree bellow**
```
г Client
│  ├─ build
│  ├─ package-lock.json
│  ├─ package.json
│  ├─ public
│  └─ src
│     ├─ api
│     │  ├─ todo
│     │  ├─ user
│     │  └─ index.js
│     ├─ App.jsx
│     ├─ assets
│     ├─ components
│     │  ├─ container
│     │  │  ├─ todo
│     │  │  ├─ user
│     │  │  └─ index.js
│     │  └─ view
│     │     ├─ login
│     │     ├─ signup
│     │     ├─ todopanel
│     │     └─ index.js
│     ├─ features
│     │  ├─ todo
│     │  ├─ user
│     │  └─ index.js
│     ├─ index.css
│     ├─ index.jsx
│     ├─ store
│     └─ utils
│        ├─ alerts
│        ├─ helmet
│        └─ index.js
└─────────────────────

```

## Navegation

+ Homepage - When a user enter to the webpage, 2 cases can be happen.
  1- The user already by logead.
  2- The user and not loged. The website ask user and password to login on the website. If you don't have a user yet, you can sign in from the REGISTER button. 

 In both cases, after login the user will be redirectioned at the ToDo List. 

+ ToDo list page - Here you can find all your ToDo's. From of the this section you can:
  - Generate a new todo from the button "+".
  - Mark a ToDo as "Done". When you clicked over a ToDo the same will cross out. 
  - Delete a ToDo. Have "Done" status or not.

In adittion, from here you can clean your ToDo List or logout.

## Alerts

- A series of alerts have been implemented using SweetAlert. This with the purpose of informing the user when a purchase is made or when, due to an error, it is necessary to carry out an additional step.


## Dependencias

* Server side:
  - "bcrypt": "^5.1.0",
  - "connect-mongo": "^4.6.0",
  - "cookie-parser": "^1.4.6",
  - "cors": "^2.8.5",
  - "dotenv": "^16.0.3",
  - "express": "^4.18.2",
  - "express-session": "^1.17.3",
  - "log4js": "^6.7.1",
  - "mongoose": "^6.8.0",
  - "nodemon": "^2.0.20",
  - "passport": "^0.6.0",
  - "passport-local": "^1.0.0"

* Client Side:
  - "@reduxjs/toolkit": "^1.9.1",
  - "@testing-library/jest-dom": "^5.16.5",
  - "@testing-library/react": "^13.4.0",
  - "@testing-library/user-event": "^13.5.0",
  - "axios": "^1.2.1",
  - "react": "^18.2.0",
  - "react-dom": "^18.2.0",
  - "react-helmet": "^6.1.0",
  - "react-redux": "^8.0.5",
  - "react-scripts": "5.0.1",
  - "sweetalert2": "^11.6.15",
  - "sweetalert2-react-content": "^5.0.7",
  - "web-vitals": "^2.1.4"
 


### `npm i`

To install dependencies

### `Scripts`

+ npm start in client and server to start the project.
+ npm start:dev in server to start nodemon server service.

## ENV DATA
If you need the .env files to test the project, please let me know.

You can write me an email to herradorgustavo@gmail.com


## Login or Register User
![React-App-Google-Chrome-2022-06-22-19-17-47](Client/src/assets/LogIn%20or%20Sing%20In.gif)

## Create a new todo. Mark as "Done" (Update Status) and Delete.
![Login, create, update, delete. Logout](Client/src/assets/Login%2C%20create%2C%20update%2C%20delete.%20Logout.gif)


## React Documentation

[Create React App documentation](https://facebook.github.io/create-react-app/docs/getting-started).

[React documentation](https://reactjs.org/).
